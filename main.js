(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e,n,r,o,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._likes=e.likes,this.cardId=e._id,this._templateSelector=n,this._handleCardClick=r,this._handleDelete=u,this._handleCardLike=o,this._ownerId=e.owner._id,this._userId=i}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".elements__item").cloneNode(!0)}},{key:"deleteCard",value:function(){this._card.remove(),this._card=null}},{key:"setLike",value:function(){this._likeButton.classList.add("elements__like-button_active")}},{key:"removeLike",value:function(){this._likeButton.classList.remove("elements__like-button_active")}},{key:"isLiked",value:function(){var t=this;return this._likes.some((function(e){return e._id===t._userId}))}},{key:"countLikes",value:function(t){this._likeCounter.textContent=t.likes.length,this._likes=t.likes}},{key:"_setEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._handleCardLike(t)})),this._card.contains(this._deleteButton)&&this._deleteButton.addEventListener("click",(function(){t._handleDelete(t)})),this._image.addEventListener("click",(function(){t._handleCardClick(t._name,t._link)}))}},{key:"createNewCard",value:function(){return this._card=this._getTemplate(),this._image=this._card.querySelector(".elements__image"),this._image.src=this._link,this._image.alt=this._name,this._card.querySelector(".elements__title").textContent=this._name,this._likeCounter=this._card.querySelector(".elements__likes"),this._likeButton=this._card.querySelector(".elements__like-button"),this._deleteButton=this._card.querySelector(".elements__delete-button"),this._likeCounter.textContent=this._likes.length,this.isLiked()&&this.setLike(),this._ownerId!==this._userId&&this._deleteButton.remove(),this._setEventListeners(),this._card}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(),r={formSelector:".edit-form",inputSelector:".edit-form__input",submitButtonSelector:".popup__saved",inactiveButtonClass:"popup__saved_disabled",inputErrorClass:"edit-form__input_text_error",errorClassVisible:"edit-form__input-error_visible",errorSelectorTemplate:".edit-form__input-error_text_"},o=Array.from(document.querySelectorAll(".edit-form")),i=document.querySelector(".profile__edit-button"),u=document.querySelector(".edit-form__input_text_name"),a=document.querySelector(".edit-form__input_text_occupation"),c=document.querySelector(".profile__add-button"),l=(document.querySelector(".edit-form_type_card"),document.querySelector(".edit-form_type_avatar")),s=document.querySelector(".profile__avatar-container");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===f(o)?o:String(o)),r)}var o}var y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._validationConfig=e,this._form=n}var e,n;return e=t,(n=[{key:"_showInputError",value:function(t){this._errorTextElement.classList.add(this._validationConfig.errorClassVisible),this._errorTextElement.textContent=t.validationMessage,t.classList.add(this._validationConfig.inputErrorClass)}},{key:"_hideInputError",value:function(t){this._errorTextElement.classList.remove(this._validationConfig.errorClassVisible),this._errorTextElement.textContent="",t.classList.remove(this._validationConfig.inputErrorClass)}},{key:"_disableSubmitButton",value:function(){this._submitButton.classList.add(this._validationConfig.inactiveButtonClass),this._submitButton.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._submitButton.classList.remove(this._validationConfig.inactiveButtonClass),this._submitButton.disabled=!1}},{key:"_checkInputValidity",value:function(t){this._errorTextElement=this._form.querySelector("".concat(this._validationConfig.errorSelectorTemplate).concat(t.name)),t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableSubmitButton():this._enableSubmitButton()}},{key:"_setEventListeners",value:function(){var t=this;this._inputList=Array.from(this._form.querySelectorAll(this._validationConfig.inputSelector)),this._submitButton=this._form.querySelector(this._validationConfig.submitButtonSelector),this._form.addEventListener("reset",(function(){t._disableSubmitButton()})),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners(),this._toggleButtonState()}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===d(o)?o:String(o)),r)}var o}var v=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){var e=this;t.reverse().forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}var _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){e.target.classList.contains("popup_opened")&&t.close()})),this._popup.querySelector(".popup__close-button").addEventListener("click",(function(){t.close()}))}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},w.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=E(r);if(o){var n=E(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupImage=e._popup.querySelector(".popup__full-image"),e._popupName=e._popup.querySelector(".popup__image-title"),e}return e=u,(n=[{key:"open",value:function(t,e){w(E(u.prototype),"open",this).call(this),this._popupImage.src=e,this._popupImage.alt=t,this._popupName.textContent=t}}])&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},C.apply(this,arguments)}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=T(r);if(o){var n=T(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._form=n._popup.querySelector(".edit-form"),n._inputList=n._popup.querySelectorAll(".edit-form__input"),n._submitButton=n._popup.querySelector(".popup__saved"),n._submitButtonText=n._form.querySelector(".popup__saved").textContent,n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;C(T(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())}))}},{key:"close",value:function(){C(T(u.prototype),"close",this).call(this),this._form.reset()}},{key:"renderLoading",value:function(t){this._submitButton.textContent=t?"Сохранение...":this._submitButtonText}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}var q=function(){function t(e){var n=e.userNameSelector,r=e.userOccupationSelector,o=e.userAvatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(n),this._userOccupation=document.querySelector(r),this._userAvatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userOccupation.textContent,avatar:this._userAvatar.src}}},{key:"setUserInfo",value:function(t){this._userName.textContent=t.name,this._userOccupation.textContent=t.about,this._userAvatar.src=t.avatar}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==x(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===x(o)?o:String(o)),r)}var o}var D=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var e,n;return e=t,(n=[{key:"_getResponseData",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){var t=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return t._getResponseData(e)}))}},{key:"getUserInfo",value:function(){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return t._getResponseData(e)}))}},{key:"getPromiseAll",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"editProfile",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then((function(t){return e._getResponseData(t)}))}},{key:"addNewCard",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return e._getResponseData(t)}))}},{key:"addAvatar",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.link})}).then((function(t){return e._getResponseData(t)}))}},{key:"setLikeCard",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then((function(t){return e._getResponseData(t)}))}},{key:"removeLikeCard",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headers}).then((function(t){return e._getResponseData(t)}))}},{key:"handleDeleteButton",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then((function(t){return e._getResponseData(t)}))}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===U(o)?o:String(o)),r)}var o}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=J(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},V.apply(this,arguments)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(r);if(o){var n=J(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".edit-form"),e}return e=u,(n=[{key:"setSubmitAction",value:function(t){this._handleFormSubmit=t}},{key:"setEventListeners",value:function(){var t=this;V(J(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()}))}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(_);function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z,$=new D({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-65",headers:{authorization:"df44f4a0-60b5-4152-b6a5-797afe96327f","Content-Type":"application/json"}});$.getPromiseAll().then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];z=i._id,K.setUserInfo(i),Y.renderItems(o)})).catch((function(t){console.error("Ошибка:".concat(t))})),o.forEach((function(t){new y(r,t).enableValidation()}));var G=new I(".popup_type_edit",(function(t){G.renderLoading(!0),$.editProfile(t).then((function(t){K.setUserInfo(t),G.close()})).catch((function(t){return console.log("Ошибка: ".concat(t))})).finally((function(){G.renderLoading(!1)}))}));G.setEventListeners();var K=new q({userNameSelector:".profile__user-name",userOccupationSelector:".profile__user-occupation",userAvatarSelector:".profile__avatar"});i.addEventListener("click",(function(){G.open();var t=K.getUserInfo();u.value=t.name,a.value=t.about}));var Q=new I(".popup_type_add",(function(t){Q.renderLoading(!0),$.addNewCard(t).then((function(t){Z(t),Q.close()})).catch((function(t){return console.log("Ошибка: ".concat(t))})).finally((function(){Q.renderLoading(!1)}))}));Q.setEventListeners(),c.addEventListener("click",(function(){Q.open()}));var W=new O(".popup_type_full-image");function X(t,e){W.open(t,e)}W.setEventListeners();var Y=new v({renderer:Z},".elements__items");function Z(t){Y.addItem(function(t){return new n(t,"#elementsTemplate",X,nt,z,ot).createNewCard()}(t))}var tt=new I(".popup_type_avatar-edit",(function(t){tt.renderLoading(!0),$.addAvatar(t).then((function(t){K.setUserInfo(t),tt.close()})).catch((function(t){return console.log("Ошибка: ".concat(t))})).finally((function(){tt.renderLoading(!1)}))}));tt.setEventListeners();var et=new y(r,l);function nt(t){t.isLiked()?$.removeLikeCard(t.cardId).then((function(e){t.removeLike(),t.countLikes(e)})).catch((function(t){return console.log("Ошибка: ".concat(t))})):$.setLikeCard(t.cardId).then((function(e){t.setLike(),t.countLikes(e)})).catch((function(t){return console.log("Ошибка: ".concat(t))}))}s.addEventListener("click",(function(){tt.open(),et.enableValidation()}));var rt=new H(".popup_type_submit");function ot(t){rt.setSubmitAction((function(){$.handleDeleteButton(t.cardId).then((function(){t.deleteCard(),rt.close()})).catch((function(t){return console.log("Ошибка: ".concat(t))}))})),rt.open()}rt.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNQVyxHQUFXZCxlQUFjLEVBQzNCLEdBQ0osSUFyQkFjLEdBQVdWLG9CQUVYLElBQU1ZLEdBQW1CLElBQUlySSxFQUFjbEIsRUFBa0JnQixHQXFCN0QsU0FBU2hFLEdBQWV3TSxHQUNsQkEsRUFBSzNKLFVBQ1AwSCxFQUNHa0MsZUFBZUQsRUFBSzdMLFFBQ3BCNEksTUFBSyxTQUFDbUQsR0FDTEYsRUFBS0csYUFDTEgsRUFBS0ksV0FBV0YsRUFDbEIsSUFDQ3pCLE9BQU0sU0FBQ0csR0FBSyxPQUFLRCxRQUFRTSxJQUFJLFdBQUQ5RyxPQUFZeUcsR0FBUSxJQUVuRGIsRUFDR3NDLFlBQVlMLEVBQUs3TCxRQUNqQjRJLE1BQUssU0FBQ21ELEdBQ0xGLEVBQUsxSixVQUNMMEosRUFBS0ksV0FBV0YsRUFDbEIsSUFDQ3pCLE9BQU0sU0FBQ0csR0FBSyxPQUFLRCxRQUFRTSxJQUFJLFdBQUQ5RyxPQUFZeUcsR0FBUSxHQUV2RCxDQXJDQW5ILEVBQWlCM0IsaUJBQWlCLFNBQVMsV0FDekMrSixHQUFXVCxPQUNYVyxHQUFpQmxCLGtCQUNuQixJQW9DQSxJQUFNeUIsR0FBb0IsSUFBSXpDLEVBQXNCLHNCQUdwRCxTQUFTbkssR0FBYXNNLEdBVXBCTSxHQUFrQkMsaUJBVGxCLFdBQ0V4QyxFQUNHeUMsbUJBQW1CUixFQUFLN0wsUUFDeEI0SSxNQUFLLFdBQ0ppRCxFQUFLUyxhQUNMSCxHQUFrQnRHLE9BQ3BCLElBQ0N5RSxPQUFNLFNBQUNHLEdBQUssT0FBS0QsUUFBUU0sSUFBSSxXQUFEOUcsT0FBWXlHLEdBQVEsR0FDckQsSUFFQTBCLEdBQWtCbEIsTUFDcEIsQ0FkQWtCLEdBQWtCbkIsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMv0KFhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL3NjcmlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVDYXJkTGlrZSwgdXNlcklkLCBoYW5kbGVEZWxldGUpIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuY2FyZElkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZSA9IGhhbmRsZURlbGV0ZTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlO1xuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7IFxuICB9XG4gIFxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faXRlbScpXG4gICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cbiBcbiAgZGVsZXRlQ2FyZCgpe1xuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZCA9IG51bGw7XG4gIH1cblxuICBzZXRMaWtlKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudHNfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICB9XG5cbiAgcmVtb3ZlTGlrZSgpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRzX19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgfVxuXG4gIGlzTGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKGVsZW0pID0+IGVsZW0uX2lkID09PSB0aGlzLl91c2VySWQpXG4gIH1cblxuICBjb3VudExpa2VzKGRhdGEpIHtcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IGRhdGEubGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZExpa2UodGhpcylcbiAgICB9KVxuICAgIGlmKHRoaXMuX2NhcmQuY29udGFpbnModGhpcy5fZGVsZXRlQnV0dG9uKSkge1xuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlKHRoaXMpXG4gICAgfSlcbiAgfVxuICAgIHRoaXMuX2ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXG4gICAgfSlcbiAgfVxuICBcbiAgY3JlYXRlTmV3Q2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faW1hZ2UnKTtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gIFxuICAgIHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgXG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fbGlrZXMnKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2xpa2UtYnV0dG9uJyk7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2RlbGV0ZS1idXR0b24nKTtcblxuICAgIHRoaXMuX2xpa2VDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgdGhpcy5zZXRMaWtlKCk7XG4gICAgfVxuICAgaWYodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xuICAgfVxuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgXG4gICAgcmV0dXJuIHRoaXMuX2NhcmQ7XG4gIH1cbn0gIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6ICfQkNGA0YXRi9C3JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnLFxuICAgIGFsdDogJ9Cf0LDQvdC+0YDQsNC80L3Ri9C5INCy0LjQtCDQvdCwINCz0L7RgNGLINCQ0YDRhdGL0LfQsCcsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJyxcbiAgICBhbHQ6ICfQktC40LQg0L3QsCDQt9Cw0YHQtdC90LbQtdC90L3QvtC1INC70LXRgdC90L7QtSDQvtC30LXRgNC+JyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZycsXG4gICAgYWx0OiAn0J/QsNC90LXQu9GM0LrQuCDQuCDRgdC10YDQvtGB0YLRjCDQsiDQv9GA0LXQtNC30LDQutCw0YLQvtC8INCz0L7RgNC+0LTQtScsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnJyxcbiAgICBhbHQ6ICfQktGD0LvQutCw0L0g0L3QsCDQutCwINCa0LDQvNGH0LDRgtC60LUnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ9Cl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnLFxuICAgIGFsdDogJ9CW0LXQu9C10LfQvdCw0Y8g0LTQvtGA0L7Qs9CwINGB0LrQstC+0LfRjCDQtNC10YDQtdCy0YzRjycsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnLFxuICAgIGFsdDogJ9CX0LjQvNC90LXQtSDQuCDQt9Cw0LzQtdGA0LfRiNC10LUg0L7Qt9C10YDQviDQkdCw0LnQutCw0LsnLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5lZGl0LWZvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLmVkaXQtZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc2F2ZWQnLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3NhdmVkX2Rpc2FibGVkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZWRpdC1mb3JtX19pbnB1dF90ZXh0X2Vycm9yJyxcbiAgZXJyb3JDbGFzc1Zpc2libGU6ICdlZGl0LWZvcm1fX2lucHV0LWVycm9yX3Zpc2libGUnLFxuICBlcnJvclNlbGVjdG9yVGVtcGxhdGU6ICcuZWRpdC1mb3JtX19pbnB1dC1lcnJvcl90ZXh0XycsXG59O1xuXG5leHBvcnQgY29uc3QgZm9ybXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0LWZvcm0nKSk7XG5leHBvcnQgY29uc3QgYnV0dG9uRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcbmV4cG9ydCBjb25zdCBpbnB1dFRleHROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtZm9ybV9faW5wdXRfdGV4dF9uYW1lJyk7XG5leHBvcnQgY29uc3QgaW5wdXRUZXh0T2NjdXBhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcuZWRpdC1mb3JtX19pbnB1dF90ZXh0X29jY3VwYXRpb24nXG4pO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IGZvcm1BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtZm9ybV90eXBlX2NhcmQnKTtcbmV4cG9ydCBjb25zdCBmb3JtQ2hhbmdlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtZm9ybV90eXBlX2F2YXRhcicpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbkVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWNvbnRhaW5lcicpO1xuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybSkge1xuICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcgPSB2YWxpZGF0aW9uQ29uZmlnO1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0KSB7XG4gICAgdGhpcy5fZXJyb3JUZXh0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFxuICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzVmlzaWJsZVxuICAgICk7XG4gICAgdGhpcy5fZXJyb3JUZXh0RWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0KSB7XG4gICAgdGhpcy5fZXJyb3JUZXh0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzVmlzaWJsZVxuICAgICk7XG4gICAgdGhpcy5fZXJyb3JUZXh0RWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2Rpc2FibGVTdWJtaXRCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VuYWJsZVN1Ym1pdEJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xuICAgIHRoaXMuX2Vycm9yVGV4dEVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgJHt0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yU2VsZWN0b3JUZW1wbGF0ZX0ke2lucHV0Lm5hbWV9YFxuICAgICk7XG5cbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcblxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yXG4gICAgKSk7XG5cbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcblxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcigncmVzZXQnLCAoKSA9PiB7XG4gICAgICB0aGlzLl9kaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIH1cbiAgICByZW5kZXJJdGVtcyhkYXRhKSB7XG4gICAgICBkYXRhLnJldmVyc2UoKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJylcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZnVsbC1pbWFnZScpO1xuICAgIHRoaXMuX3BvcHVwTmFtZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtdGl0bGUnKTtcbiAgfVxuICBvcGVuKGltYWdlTmFtZSwgaW1hZ2VMaW5rKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gaW1hZ2VMaW5rO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gaW1hZ2VOYW1lO1xuICAgIHRoaXMuX3BvcHVwTmFtZS50ZXh0Q29udGVudCA9IGltYWdlTmFtZTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LWZvcm0nKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcuZWRpdC1mb3JtX19pbnB1dCcpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZWQnKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmVkJykudGV4dENvbnRlbnRcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLidcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3Ioe3VzZXJOYW1lU2VsZWN0b3IsIHVzZXJPY2N1cGF0aW9uU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3Rvcn0pIHtcbiAgICAgICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl91c2VyT2NjdXBhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck9jY3VwYXRpb25TZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBdmF0YXJTZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgZ2V0VXNlckluZm8oKSB7XG4gICAgICAgIGNvbnN0IHVzZXJJbmZvID0ge1xuICAgICAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxuICAgICAgICAgIGFib3V0OiB0aGlzLl91c2VyT2NjdXBhdGlvbi50ZXh0Q29udGVudCxcbiAgICAgICAgICBhdmF0YXI6IHRoaXMuX3VzZXJBdmF0YXIuc3JjXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVzZXJJbmZvO1xuICAgICAgfVxuXG4gICAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcbiAgICAgICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lO1xuICAgICAgICB0aGlzLl91c2VyT2NjdXBhdGlvbi50ZXh0Q29udGVudCA9IHVzZXJEYXRhLmFib3V0O1xuICAgICAgICB0aGlzLl91c2VyQXZhdGFyLnNyYyA9IHVzZXJEYXRhLmF2YXRhcjtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIF9nZXRSZXNwb25zZURhdGEocmVzKSB7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTsgXG4gICAgfVxuICAgIHJldHVybiByZXMuanNvbigpO1xufVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gXG4gICAgICB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gXG4gICAgICB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKVxuICAgICk7XG4gIH1cblxuICBnZXRQcm9taXNlQWxsKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5nZXRVc2VySW5mbygpXSk7XG4gIH1cblxuICBlZGl0UHJvZmlsZShkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBhYm91dDogZGF0YS5hYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gXG4gICAgICB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKVxuICAgICk7XG4gIH1cblxuICBhZGROZXdDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiBcbiAgICAgIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpXG4gICAgKTtcbiAgfVxuXG4gIGFkZEF2YXRhcihkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiBcbiAgICAgIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpXG4gICAgKTtcbiAgfVxuXG4gIHNldExpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IFxuICAgICAgdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcylcbiAgICApO1xuICB9XG5cbiAgcmVtb3ZlTGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gXG4gICAgICB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKVxuICAgICk7XG4gIH1cblxuICBoYW5kbGVEZWxldGVCdXR0b24oY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gXG4gICAgICB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKVxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LWZvcm0nKTtcbiAgfVxuXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gYWN0aW9uO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ2FyZCBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMv0KFhcmQuanMnO1xuaW1wb3J0IHtcbiAgaW5pdGlhbENhcmRzLFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBmb3JtcyxcbiAgYnV0dG9uRWRpdFByb2ZpbGUsXG4gIGlucHV0VGV4dE5hbWUsXG4gIGlucHV0VGV4dE9jY3VwYXRpb24sXG4gIGJ1dHRvbkFkZENhcmQsXG4gIGZvcm1DaGFuZ2VBdmF0YXIsXG4gIGJ1dHRvbkVkaXRBdmF0YXIsXG59IGZyb20gJy4uL3NjcmlwdHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gJy4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMnO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjUnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJ2RmNDRmNGEwLTYwYjUtNDE1Mi1iNmE1LTc5N2FmZTk2MzI3ZicsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbn0pO1xuXG5sZXQgdXNlcklkO1xuXG5hcGlcbiAgLmdldFByb21pc2VBbGwoKVxuICAudGhlbigoZGF0YSkgPT4ge1xuICAgIGNvbnN0IFtjYXJkcywgdXNlckluZm9dID0gZGF0YTtcbiAgICB1c2VySWQgPSB1c2VySW5mby5faWQ7XG4gICAgdXNlci5zZXRVc2VySW5mbyh1c2VySW5mbyk7XG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcyk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwOiR7ZXJyfWApO1xuICB9KTtcblxuZm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xuICBjb25zdCBmb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybSk7XG4gIGZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xufSk7XG5cbmNvbnN0IGZvcm1FZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAnLnBvcHVwX3R5cGVfZWRpdCcsXG4gIGhhbmRsZUVkaXRGb3JtU3VibWl0XG4pO1xuZm9ybUVkaXRQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KHVzZXJEYXRhKSB7XG4gIGZvcm1FZGl0UHJvZmlsZS5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAuZWRpdFByb2ZpbGUodXNlckRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlci5zZXRVc2VySW5mbyhyZXMpO1xuICAgICAgZm9ybUVkaXRQcm9maWxlLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycm9yfWApKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGZvcm1FZGl0UHJvZmlsZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn1cblxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh7XG4gIHVzZXJOYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9fdXNlci1uYW1lJyxcbiAgdXNlck9jY3VwYXRpb25TZWxlY3RvcjogJy5wcm9maWxlX191c2VyLW9jY3VwYXRpb24nLFxuICB1c2VyQXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJyxcbn0pO1xuXG5idXR0b25FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybUVkaXRQcm9maWxlLm9wZW4oKTtcbiAgY29uc3QgdXNlckluZm8gPSB1c2VyLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0VGV4dE5hbWUudmFsdWUgPSB1c2VySW5mby5uYW1lO1xuICBpbnB1dFRleHRPY2N1cGF0aW9uLnZhbHVlID0gdXNlckluZm8uYWJvdXQ7XG59KTtcblxuY29uc3QgZm9ybUNhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfYWRkJywgaGFuZGxlQWRkRm9ybVN1Ym1pdCk7XG5mb3JtQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVBZGRGb3JtU3VibWl0KGNhcmREYXRhKSB7XG4gIGZvcm1DYXJkLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5hZGROZXdDYXJkKGNhcmREYXRhKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHJlbmRlcmVyQ2FyZChyZXMpO1xuICAgICAgZm9ybUNhcmQuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyb3J9YCkpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZm9ybUNhcmQucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbmJ1dHRvbkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGZvcm1DYXJkLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBwb3B1cEZ1bGxJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3R5cGVfZnVsbC1pbWFnZScpO1xucG9wdXBGdWxsSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcbiAgcG9wdXBGdWxsSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbn1cblxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHsgcmVuZGVyZXI6IHJlbmRlcmVyQ2FyZCB9LCAnLmVsZW1lbnRzX19pdGVtcycpO1xuXG5mdW5jdGlvbiByZW5kZXJlckNhcmQoaXRlbSkge1xuICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxuICAgIGl0ZW0sXG4gICAgJyNlbGVtZW50c1RlbXBsYXRlJyxcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlQ2FyZExpa2UsXG4gICAgdXNlcklkLFxuICAgIGhhbmRsZURlbGV0ZVxuICApO1xuICBjb25zdCBjYXJkID0gY2FyZEVsZW1lbnQuY3JlYXRlTmV3Q2FyZCgpO1xuICByZXR1cm4gY2FyZDtcbn1cblxuY29uc3QgZWRpdEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9hdmF0YXItZWRpdCcsIGNoYW5nZUF2YXRhcik7XG5lZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGF2YXRhclZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtQ2hhbmdlQXZhdGFyKTtcblxuYnV0dG9uRWRpdEF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZWRpdEF2YXRhci5vcGVuKCk7XG4gIGF2YXRhclZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xufSk7XG5cbmZ1bmN0aW9uIGNoYW5nZUF2YXRhcihkYXRhKSB7XG4gIGVkaXRBdmF0YXIucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmFkZEF2YXRhcihkYXRhKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXIuc2V0VXNlckluZm8ocmVzKTtcbiAgICAgIGVkaXRBdmF0YXIuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyb3J9YCkpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZWRpdEF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2FyZExpa2UoY2FyZCkge1xuICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcbiAgICBhcGlcbiAgICAgIC5yZW1vdmVMaWtlQ2FyZChjYXJkLmNhcmRJZClcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjYXJkLnJlbW92ZUxpa2UoKTtcbiAgICAgICAgY2FyZC5jb3VudExpa2VzKHJlc3BvbnNlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycm9yfWApKTtcbiAgfSBlbHNlIHtcbiAgICBhcGlcbiAgICAgIC5zZXRMaWtlQ2FyZChjYXJkLmNhcmRJZClcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjYXJkLnNldExpa2UoKTtcbiAgICAgICAgY2FyZC5jb3VudExpa2VzKHJlc3BvbnNlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhg0J7RiNC40LHQutCwOiAke2Vycm9yfWApKTtcbiAgfVxufVxuXG5jb25zdCBjb25maXJtYXRpb25Qb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oJy5wb3B1cF90eXBlX3N1Ym1pdCcpO1xuY29uZmlybWF0aW9uUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGNhcmQpIHtcbiAgZnVuY3Rpb24gZGVsZXRlQ2FyZCgpIHtcbiAgICBhcGlcbiAgICAgIC5oYW5kbGVEZWxldGVCdXR0b24oY2FyZC5jYXJkSWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xuICAgICAgICBjb25maXJtYXRpb25Qb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LA6ICR7ZXJyb3J9YCkpO1xuICB9XG4gIGNvbmZpcm1hdGlvblBvcHVwLnNldFN1Ym1pdEFjdGlvbihkZWxldGVDYXJkKTtcbiAgY29uZmlybWF0aW9uUG9wdXAub3BlbigpO1xufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmRMaWtlIiwidXNlcklkIiwiaGFuZGxlRGVsZXRlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiY2FyZElkIiwiX2lkIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZSIsIl9oYW5kbGVDYXJkTGlrZSIsIl9vd25lcklkIiwib3duZXIiLCJfdXNlcklkIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmQiLCJyZW1vdmUiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsIl90aGlzIiwic29tZSIsImVsZW0iLCJfbGlrZUNvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl90aGlzMiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250YWlucyIsIl9kZWxldGVCdXR0b24iLCJfaW1hZ2UiLCJfZ2V0VGVtcGxhdGUiLCJzcmMiLCJhbHQiLCJpc0xpa2VkIiwic2V0TGlrZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzc1Zpc2libGUiLCJlcnJvclNlbGVjdG9yVGVtcGxhdGUiLCJmb3JtcyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b25FZGl0UHJvZmlsZSIsImlucHV0VGV4dE5hbWUiLCJpbnB1dFRleHRPY2N1cGF0aW9uIiwiYnV0dG9uQWRkQ2FyZCIsImZvcm1DaGFuZ2VBdmF0YXIiLCJidXR0b25FZGl0QXZhdGFyIiwiRm9ybVZhbGlkYXRvciIsImZvcm0iLCJfdmFsaWRhdGlvbkNvbmZpZyIsIl9mb3JtIiwiaW5wdXQiLCJfZXJyb3JUZXh0RWxlbWVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwiY29uY2F0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl9pbnB1dExpc3QiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmV2ZXJzZSIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xvc2UiLCJ0YXJnZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cE5hbWUiLCJpbWFnZU5hbWUiLCJpbWFnZUxpbmsiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9zdWJtaXRCdXR0b25UZXh0IiwiX2Zvcm1WYWx1ZXMiLCJfdGhpczMiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiaXNMb2FkaW5nIiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlck9jY3VwYXRpb25TZWxlY3RvciIsInVzZXJBdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VyT2NjdXBhdGlvbiIsIl91c2VyQXZhdGFyIiwiYWJvdXQiLCJhdmF0YXIiLCJ1c2VyRGF0YSIsIkFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2dldFJlc3BvbnNlRGF0YSIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJfdGhpczQiLCJfdGhpczUiLCJfdGhpczYiLCJfdGhpczciLCJfdGhpczgiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJhY3Rpb24iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiZ2V0UHJvbWlzZUFsbCIsIl9kYXRhIiwiY2FyZHMiLCJ1c2VySW5mbyIsInVzZXIiLCJzZXRVc2VySW5mbyIsInNlY3Rpb24iLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1FZGl0UHJvZmlsZSIsInJlbmRlckxvYWRpbmciLCJlZGl0UHJvZmlsZSIsImxvZyIsImZpbmFsbHkiLCJzZXRFdmVudExpc3RlbmVycyIsIm9wZW4iLCJmb3JtQ2FyZCIsImNhcmREYXRhIiwiYWRkTmV3Q2FyZCIsInJlbmRlcmVyQ2FyZCIsInBvcHVwRnVsbEltYWdlIiwiYWRkSXRlbSIsImNyZWF0ZU5ld0NhcmQiLCJjcmVhdGVDYXJkIiwiZWRpdEF2YXRhciIsImFkZEF2YXRhciIsImF2YXRhclZhbGlkYXRpb24iLCJjYXJkIiwicmVtb3ZlTGlrZUNhcmQiLCJyZXNwb25zZSIsInJlbW92ZUxpa2UiLCJjb3VudExpa2VzIiwic2V0TGlrZUNhcmQiLCJjb25maXJtYXRpb25Qb3B1cCIsInNldFN1Ym1pdEFjdGlvbiIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsImRlbGV0ZUNhcmQiXSwic291cmNlUm9vdCI6IiJ9